Function Name,State Variables Modified,Can Transfer Ether
migrateDeposits(),"totalDeposits, totalDeposits, prevContract",True
migrate(),"wasImported, wasImported, users, prevContract, prevContract, prevContract",False
"function()publicpayable{require(running,""Oasis is not running"");Userstorageuser=users[msg.sender];uint256[]memorydividends=dividendsForUser(msg.sender);uint256dividendsSum=_dividendsSum(dividends);if(dividendsSum>0){if(dividendsSum>=address(this).balance){dividendsSum=address(this).balance;running=false;}msg.sender.transfer(dividendsSum);user.lastPayment=now;emitUserDividendPayed(msg.sender,dividendsSum);for(uinti=0;i<dividends.length;i++){emitDepositDividendPayed(msg.sender,i,user.deposits[i].amount,dividendsForAmountAndTime(user.deposits[i].amount,now.sub(user.deposits[i].time)),dividends[i]);}for(i=0;i<user.deposits.length;i++){if(now>=user.deposits[i].time.add(MAX_DEPOSIT_TIME)){user.deposits[i]=user.deposits[user.deposits.length-1];user.deposits.length-=1;i-=1;}}}if(msg.value>0){if(user.lastPayment==0){user.lastPayment=now;user.refStartTime=now;emitInvestorAdded(msg.sender);}user.deposits.push(Deposit({time:now,amount:msg.value}));require(user.deposits.length<=MAX_USER_DEPOSITS_COUNT,""Too many deposits per user"");emitDepositAdded(msg.sender,user.deposits.length,msg.value);totalDeposits=totalDeposits.add(msg.value);emitTotalDepositsChanged(totalDeposits);if(user.referrer==address(0)&&msg.data.length==20){addressreferrer=_bytesToAddress(msg.data);if(referrer!=address(0)&&referrer!=msg.sender&&users[referrer].refStartTime>0&&now>=users[referrer].refStartTime.add(REFERRER_ACTIVATION_PERIOD)){user.referrer=referrer;msg.sender.transfer(msg.value.mul(REFBACK_PERCENT).div(ONE_HUNDRED_PERCENTS));emitReferrerAdded(msg.sender,referrer);}}referrer=users[msg.sender].referrer;for(i=0;referrer!=address(0)&&i<referralPercents.length;i++){uint256refAmount=msg.value.mul(referralPercents[i]).div(ONE_HUNDRED_PERCENTS);referrer.send(refAmount);emitReferrerPayed(msg.sender,referrer,msg.value,refAmount,i);referrer=users[referrer].referrer;}uint256marketingFee=msg.value.mul(MARKETING_FEE).div(ONE_HUNDRED_PERCENTS);uint256teamFee=msg.value.mul(TEAM_FEE).div(ONE_HUNDRED_PERCENTS);uint256charityFee=msg.value.mul(CHARITY_FEE).div(ONE_HUNDRED_PERCENTS);marketing.send(marketingFee);team.send(teamFee);charity.send(charityFee);emitFeePayed(msg.sender,marketingFee.add(teamFee));}if(user.deposits.length==0&&msg.value==0){user.refStartTime=now;}emitBalanceChanged(address(this).balance);}()","running, users, running, MAX_DEPOSIT_TIME, MAX_USER_DEPOSITS_COUNT, totalDeposits, totalDeposits, totalDeposits, users, users, REFERRER_ACTIVATION_PERIOD, REFBACK_PERCENT, ONE_HUNDRED_PERCENTS, users, referralPercents, referralPercents, ONE_HUNDRED_PERCENTS, users, MARKETING_FEE, ONE_HUNDRED_PERCENTS, TEAM_FEE, ONE_HUNDRED_PERCENTS, CHARITY_FEE, ONE_HUNDRED_PERCENTS, marketing, team, charity",True
depositsCountForUser(address),users,False
"depositForUser(address,uint256)","users, users",False
dividendsSumForUser(address),,False
dividendsForUser(address),"users, MAX_DEPOSIT_TIME, MAX_DEPOSIT_TIME",False
"dividendsForAmountAndTime(uint256,uint256)","DAILY_INTEREST, ONE_HUNDRED_PERCENTS",False
